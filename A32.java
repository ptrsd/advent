import java.util.stream.Stream;

class A32 {
  public static void main(String[] args) {
    String input = """
      .....##.#.....#........#....##.
      ....#...#...#.#.......#........
      .....##.#......#.......#.......
      ...##.........#...#............
      ........#...#.......#.........#
      ..........#......#..#....#....#
      ..................#..#..#....##
      .....##...#..#..#..#..#.##.....
      ..##.###....#.#.........#......
      #.......#......#......#....##..
      .....#..#.#.......#......#.....
      ............#............#.....
      ...#.#........#........#.#.##.#
      .#..#...#.....#....##..........
      ##..........#...#...#..........
      ...........#...###...#.......##
      .#..#............#........#....
      ##.#..#.....#.......#.#.#......
      .##.....#....#.#.......#.##....
      ..##...........#.......#..##.#.
      ##...#.#........#..#...#...#..#
      .#..#........#.#.......#..#...#
      .##.##.##...#.#............##..
      ..#.#..###......#..#......#....
      .#..#..#.##.#.##.#.#...........
      ...#....#..#.#.#.........#..#..
      ......#.#....##.##......#......
      #....#.##.##....#..#...........
      ...#.#.#.#..#.#..#.#..#.##.....
      #.....#######.###.##.#.#.#.....
      ..#.##.....##......#...#.......
      ..#....#..#...##.#..#..#..#..#.
      .............#.##....#.........
      .#....#.##.....#...............
      .#............#....#...#.##....
      .#.....#.##.###.......#..#.....
      .#...#.........#.......#..#....
      ..#.#..#.##.......##...........
      .....##..#..#..#..#.##..#.....#
      ..##............##...#..#......
      ...#..#....#..##.....##..#.#...
      #.....##....#.#.#...#...#..##.#
      #.#..#.........#.##.#...#.#.#..
      .....#.#....##....#............
      #.......#..#.....##..#...#...#.
      .....#.#...#...#..#......#.....
      ..##....#.#.#.#.#..#...........
      ##..#...#.........#......#...#.
      ..#...#.#.#.#..#.#.##..##......
      #............###.....###.......
      ..........#...#........###.....
      .......##...#...#...#........#.
      .#..#.##.#.....................
      .#..##........##.##...#.......#
      .......##......#.....#......#..
      .##.#.....#......#......#......
      #...##.#.#...#.#...............
      ........#..#...#.##.......#....
      ...................#...#...##..
      ...#...#.........#.....#..#.#..
      .###..#........#..##.##..#.##..
      #...#.....#.....#.....#..#..#..
      ###..#.....#.#.#.#......#....#.
      #........#....##.#...##........
      .#.#..##........##....##.#.#...
      #...#....#.###.#.#.........#...
      ...#...##..###.......#.........
      ......#....#..##..#.....#.#....
      ........#...##...###......##...
      ..........##.#.......##........
      ...#....#......#...##.....#....
      ###.#.....#.#..#..#....#...#..#
      .#.....#.#....#...............#
      ..#....#....####....###....#.#.
      ....##........#..#.##.#....#...
      .......##...#...#..#....####...
      #...##.#......##...#..#........
      ..##..#.##....#.......##.#.#...
      ..#.#...............#...#.#....
      ....#.....#.#.....#.##.......#.
      ...#.#..##.#.#..............##.
      ..#.....#...#.............#.##.
      ##..#.#...#........#..#.....##.
      ...........##...#.#.###...#....
      ...#.#.#..#..................#.
      .#...##.............#...#......
      ..#..#...#.#.......#...#.....#.
      ..##.......#.#.................
      .##..#........###.....#....#.##
      ......#..###.......#....##....#
      ....#.....#.................#..
      ........#...#...#..............
      ...#..#.###.......#..#.#.#.##..
      ..#...#.....#....#.........#...
      ...#.............#........###..
      ......#..............#......#..
      #..#...........#...#..........#
      ...##...#.###..#...#.....#.#...
      ....#..##......#.......##......
      ....#....##.#...#.#..#....#...#
      .#...........#..#....##...#..##
      ..#.#.................###.#...#
      ..#.#.#...##...........#.......
      ..........#..##...#.#..##....##
      ........#........#.##..#.#...#.
      .....#...##.......##......#...#
      ....#...#..#..#.....#..........
      .#..#......#..#..#..###.......#
      .##..........#...#...#.#.....##
      ..#..........#.#.#...###.......
      ....#................#...##....
      .##..#....#..........#.#.#.....
      ..##...#.#........#.....#.##...
      ....####.....#..#.........##..#
      ......#.........#...#..........
      ....#...................#..##..
      .##....#.#.........#....#...#..
      ....##...##.....#..####........
      ..##.#....#.#.......##...#.....
      #...#.#.#...#..#..##.....#.....
      #..................###.....#...
      #.#.....#.......#.#...###.#....
      .#..#....#............#........
      #.#....#..#.#...............#..
      ..#..#..#.............#......#.
      ..#.......##...................
      .#....#.........#....#.#.#..#..
      ....#....#..#...............#..
      ......#..#..##......#.........#
      ..#.##........##......#..#..#.#
      #.....#.#....#.........##...#..
      ###..............#....###...##.
      ....#..##......#.......##......
      ......#...#.##......##....#..#.
      ..........#....#..##.......#..#
      .#..#...##..#...........#..#..#
      .....#....#...#..###...###....#
      .#####..#...#.#.#..#.#.###...##
      ..##............##.#...#.##...#
      .##..#...#...#....##.#..#..##..
      .#....#...#............##..#...
      .#.#......#....#....#..##..##..
      .........#...#.......#.##..#...
      #.........#.....##.....#..#..#.
      ...##.#...#...#..#..#....##..##
      .#............#...#....##......
      ..#...#.##.........#.#......#.#
      ....#.##........#.........#..##
      #.........#......#.#......#..#.
      ........#.#.......#.#........#.
      ..#..........##.#...#..#.#.....
      ..#...#....#...#...#..#.#..#.#.
      .#.........#....#..#####..#....
      #.#....#.#.###...#.............
      ..##...........##......##......
      #.....#..#....#...............#
      ...#.#..#....##......#...##....
      ...#........#.....#...#..#.....
      .#......##.........#......#....
      ..#..###.##...#.#.....#........
      .............#......#..#.......
      ..#...............#.#...#..#..#
      .......#..#...#.#####......#..#
      .........#.....#...............
      ##........#............#.#.....
      .#...#.....#..#..#...#....#...#
      ..#....#....##......##.....#.#.
      #...##..##......#...#....#.....
      ....#.#.#.....###....##.##....#
      ..........##...##.......#......
      ..#.......#...##.#....##.##....
      ....#........................#.
      ...#...#.#.##...#.....#...#..#.
      .#....##..#..#..........##..##.
      .#.....#..#...#.##.....#.......
      .#.##...#.#..#.....##....#...#.
      .##...#........##....#..#......
      .....#........#..........#.#..#
      ....#..##.......#..#.....#.....
      ...........#...#........#.##..#
      .....#..#....#..#.#.....#....##
      .....#....#.##.#..##...........
      ...##.......##.........#.......
      ...............##..#....#.#....
      .......###..#........#..####.##
      .......#.##...#.#....#.####....
      ....#...............#..........
      ##.#.......#.....#......#...#..
      ......##.....#....#.....#..#..#
      .....#...##.............#......
      #.#.##.#.....#..#........#.....
      ......##....#..#........#......
      ............#........#..#.#....
      ##.......#......#...####..#.##.
      ..##..#...#.............#.##...
      .....#..##......#.##......###..
      ............#........#........#
      #.#.#.#...#.#.....#.........#..
      .........#...............#.....
      .............###.#.......#....#
      ###.##..#..#..........#....#...
      #......#...#..#..#.....#.##....
      ............#....#....#..#.....
      ..#.#....#...#......#.#..#..##.
      ...#........................#..
      #.#...#..........#......#.#....
      .........#................#...#
      ##.....#....#........##.......#
      #...##........#...#...........#
      ...#...#..........##.......#.#.
      ..#.#.#....#......##...........
      ...#.#...#.##.#..#.#.##........
      #....##.....###..#.......#.....
      ###.....#.#.#...#..#.........##
      ..#......#..###...#.#.#.....#.#
      .#....#.....#............#..##.
      ....#....##..........#.....##..
      #...........#....#...#..#...##.
      ..#.......#.....#..........#...
      .#..#................#......#..
      ..#......#.#...#..#.#....#....#
      ...#..#...###..#..##....#.#....
      ..#..............#.....#.......
      ...#.#...#.........#.#.........
      ##......##...........##.#.##..#
      ..#..##..#....#.#......#.#...##
      ...#.###....###...#.....#......
      #.#................#......#....
      ..#.....#.....#....##.......#..
      .#.#...............##..#.......
      ...#....#.......#.#.....##..#..
      .........#....#.......#.#...##.
      #....#......##.#.........##...#
      #.............#..##.#.#..##....
      ...#....#..#...#....#.#.#.#...#
      .#....#....#..##.....#.#...###.
      ##............#.#...##.#..#.#..
      ##.#....##.....#..#..###....#..
      ##....#................##......
      ...##..#...#..###....#.....##..
      .#...##......#..#.#.....#...#..
      ..##......##...#.##.......#....
      ......#.....#.....##........#.#
      ##....#...........#............
      #.......#....#..#.##..##.#..#..
      .#....##.#.....#..#..#.........
      .#....#.#.#...#.....##.....#.#.
      .......##.#.#........#......##.
      ##........#.##.......#...#..#..
      ...###..##....#.#....#.#.......
      ......#.......#...##.....#...#.
      ..#......##.#......#.....#.....
      .....#.....###...#.............
      #...#.#...#...#..#......#......
      #.....#.......###.#....###.#...
      ...#.......#....####....##..#..
      #.#.....#....#........#.......#
      .........#.......#......#.#...#
      ..##....#.....##...............
      ..........#..#.#..#......#.....
      ..................##...##.#....
      ........#.......#...#..#.#.#...
      .....#.#..##..#..#.#..#.......#
      .....#........#..#..#....#....#
      ##............#..#..#...#....#.
      .....#....................##..#
      ........##.#....###............
      ##.......#.##................#.
      .....###.#..#..#...#....###.##.
      .#......#.#....#.....##.#......
      ...##......##.........#...#....
      ....####..............#........
      #...#.#..##..##.........##.....
      ......#......#....#..#.........
      #.....#.....#.##...............
      ..#.##..#...##.#.####..#....###
      #..#......#....#.##..##...#.#..
      #....#.......#.....#.....#.#...
      ##.......#.....##...#.....#....
      ...#...##..........#..##..##..#
      .###..#..##...#....#...#..#....
      ......##..###.......###...#....
      ....#...#.#.......#.##...##..##
      #.#......#..##.#.#..#..#..#....
      ......#........#.......#.......
      ..........#.#.....##...........
      ......#..#........#..#.#..###..
      ##..#.............##..#........
      .........#....#.....#.........#
      .....#..##...#..#..##.##......#
      ###..#...........#.......#....#
      ...............#....#.#........
      .##.#...#.#........##....#.....
      .##.###...##..###....#...#...#.
      .##..#....#.#.#...#.#.#.#...#..
      .###.#...#.......#....#..#.....
      ..#..#.#.#.#........#.....##...
      .#.......#.#...#.#...........##
      ...#.....##....#.....##...#....
      ................#.....####...#.
      .#.#......#.......##...#.##....
      .###.........#.#......#..#.#...
      #......#...#....#..##.......#..
      .##..#....#..#...........#...#.
      .#...#.......##........#.##....
      ..#...........#...##...........
      .....##....##......#....#..#...
      #......#.#...#.##.#...##....#..
      #....................#...##...#
      ..#............#........#......
      .............#.........##.....#
      ...#...#......##.#...#...#.#...
      ..#...#.#.................#....
      ....##...#....#...###.##......#
      ...#....#...#..#...#....#.....#
      ...##.#........#..#.........#..
      ..##.....#..##...#.....##...#..
      #.........#.#.#...#......#...#.
      #.#...........#...#..#..#..##..
      ..#..#..##....#..........#.###.
      .....#..#....#.#...#...#..#..#.
      ###.....#..#.................#.
      .#..##.##.#......#....##..#....""";

    String[] lines = input.split(System.getProperty("line.separator"));

    record slope(int down, int right) { }
    long c = Stream.of(
      new slope(1, 3), new slope(1, 1),
      new slope(1, 5), new slope(1, 7),
      new slope(2, 1)
    ).map(s -> {
      int x = 0, maxX = lines[0].length();
      long count = 0;
      for (int y = 0; y < lines.length;y += s.down()) {
        if (lines[y].charAt(x) == '#') {
          count++;
        }
        x += s.right();
        if (x >= maxX) x -= maxX;
      }

      return count;
    }).reduce(1L, (acc, curr) -> acc *= curr);

    System.out.println(c);
  }
}
